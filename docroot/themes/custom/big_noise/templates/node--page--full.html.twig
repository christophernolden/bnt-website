{%
  set hasColumnPrimary = content.field_content_blocks|render|trim
%}
{%
  set hasColumnSecondary = content.field_content_blocks_secondary|render|trim
%}

{% if content.field_title|render|trim %}
<div id="page-title-ribbon" class="page-title-ribbon">
  <div id="page-title-ribbon--content" class="page-title-ribbon--content site-width-constraint">
    {{ content.field_title }}
    {{ content.field_subheading }}
    <div id="page-title-ribbon--image-caption" class="page-title-ribbon--image-caption">The Drowsy Chaperone, 2011</div>
  </div>
</div>
{% endif %}

<div id="site--main--main-content" class="site--main--main-content site-width-constraint">
  {%
    set columnContainerClasses = [
      'column-container',
      hasColumnPrimary ? 'has-primary-column',
      hasColumnSecondary ? 'has-secondary-column'
    ]
  %}
  <div class="{{ columnContainerClasses|join(' ') }}">
    {% if hasColumnPrimary %}
    <div class="column primary">{{ content.field_content_blocks }}</div>
    {% endif %}
    {% if hasColumnSecondary %}
    <div class="column secondary">{{ content.field_content_blocks_secondary }}</div>
    {% endif %}
  </div>
</div>
